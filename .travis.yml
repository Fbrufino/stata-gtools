language: c
env:
  global:
    - OMP_NUM_THREADS=4
compiler: gcc

# matrix:
#   include:
#     - os: linux
#       addons:
#         apt:
#           sources:
#             - ubuntu-toolchain-r-test
#           packages:
#             - g++-5
#       env:
#          - MATRIX_EVAL="CC=gcc-5 && CXX=g++-5"
#
# before_install:
#     - eval "${MATRIX_EVAL}"

script:
  - cd lib/spookyhash/build
  - wget https://github.com/premake/premake-core/releases/download/v5.0.0.alpha4/premake-5.0.0.alpha4-linux.tar.gz
  - tar zxvf premake-5.0.0.alpha4-linux.tar.gz
  - ./premake5 gmake
  - make clean
  - ALL_CFLAGS+=-fPIC make
  # - ./bin/Release/spookyhash-test
  - cd -
  - make clean && make
